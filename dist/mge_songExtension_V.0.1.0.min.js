mge.aa={ab:{ac:[]},ad:{}};mge.aa.ad={set config(_value){this.an(_value)},load:function(){this.ai()},play:function(_bpm,_instruments,_mix){this.aj(_bpm,_instruments,_mix)}};mge.song={create:function(){return mge.aa.ab.aeSong()}};mge.aa.ad.ae=function(){this.af={};this.ag=false;this.ah=[]};mge.aa.ad.ai=function(){let af=this.af;let ah=[];af._p.forEach(function(_part){let _currentPart=[];af._str.forEach(function(_section){_part._s[_section].forEach(function(_bar){_currentPart.push(_part._b[_bar]);});});ah.push(_currentPart);});this.ah=ah;this.ag=true};mge.aa.ad.aj=function(_bpm,_instruments,_mix){let ak={play:function(_frequency,_startTime,_duration,_volume){let _synthConfig={volumeADSR:{a:0.02,d:400,s:0,r:0.1,minValue:0,maxValue:_volume},oscType:'sine'};mge.audio.playSound(_synthConfig,_frequency,_startTime,_duration,_volume)}};if(!this.ag){this.ai()};mge.sequencer.stop();mge.sequencer.reset();let al=0;this.ah.forEach(function(_track){mge.sequencer.createTrack(_track,_instruments[al]||ak,_mix[al]||1);al+=1;});mge.sequencer.bpm=_bpm;mge.sequencer.start()};mge.aa.ad.an=function(_value){this.af=_value;this.ag=false;this.ah=[]};mge.aa.ab.aeSong=function(){let ap=Object.create(mge.aa.ad);ap.ae();this.ac.push(ap);return ap}